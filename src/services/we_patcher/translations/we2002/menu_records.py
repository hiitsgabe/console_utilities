"""Community PPF menu record extractor and translator.

Reads the community English PPF2 (w202-english.ppf) and provides
translated (offset, data) records for other languages.

The PPF2 file format:
  - Header: "PPF20" + encoding byte + 50-byte description + 4-byte expected
    size + 1024-byte validation block (total 1084 bytes before records)
  - If FILE_ID.DIZ present (last 8 bytes contain ".DIZ"): strip idlen + 38
    bytes from end
  - Records start at offset 1084: 4-byte LE offset + 1-byte count + count
    bytes of data

For records that are purely printable ASCII (all bytes 32-126 or 0), the
content is a menu/UI string and can be looked up in a translation dict.
Non-ASCII records (binary data, graphics) pass through unchanged.
"""

import os
import struct
from typing import Dict, List, Optional, Tuple


# ---------------------------------------------------------------------------
# PPF2 parser
# ---------------------------------------------------------------------------


def _parse_ppf2(ppf_path: str) -> List[Tuple[int, bytes]]:
    """Parse PPF2 file into list of (offset, data) records."""
    with open(ppf_path, "rb") as f:
        data = f.read()

    # Validate magic
    if data[:4] != b"PPF2":
        raise ValueError(f"Not a PPF2 file: {ppf_path}")

    # Strip FILE_ID.DIZ if present (PPF2 spec: ".DIZ" at buf[-8:-4])
    if len(data) > 38 and data[-8:-4] == b".DIZ":
        idlen = struct.unpack_from("<I", data, len(data) - 4)[0]
        data = data[: -(idlen + 38)]

    # Records start at offset 1084 (5 magic + 1 encoding + 50 desc + 4 size + 1024 validation)
    records = []
    pos = 1084
    while pos + 5 <= len(data):
        offset = struct.unpack_from("<I", data, pos)[0]
        count = data[pos + 4]
        if pos + 5 + count > len(data):
            break
        rec_data = data[pos + 5 : pos + 5 + count]
        records.append((offset, rec_data))
        pos += 5 + count

    return records


# ---------------------------------------------------------------------------
# Record classification and translation
# ---------------------------------------------------------------------------


def _is_text_record(data: bytes) -> bool:
    """Check if a record contains purely printable ASCII (or null bytes).

    Requires at least 3 bytes to avoid matching tiny binary fragments
    that happen to look like text.
    """
    return len(data) >= 3 and all(32 <= b <= 126 or b == 0 for b in data)


def _translate_record(data: bytes, translations: Dict[str, str]) -> bytes:
    """Translate a text record using the given translation dict.

    1. Decode to ASCII, strip trailing nulls
    2. Look up stripped text (no leading/trailing spaces) in translations
    3. If found, pad/truncate translated text to original field width
    4. If not found, return original data unchanged
    """
    text = data.decode("ascii", errors="replace").rstrip("\x00")
    stripped = text.strip()
    if not stripped or stripped not in translations:
        return data

    translated = translations[stripped]
    has_null = data[-1] == 0
    field_len = len(data) - (1 if has_null else 0)
    result = translated[:field_len].ljust(field_len).encode("ascii", errors="replace")
    if has_null:
        result += b"\x00"
    return result


# ---------------------------------------------------------------------------
# Translation dictionaries
# ---------------------------------------------------------------------------

_TRANSLATIONS: Dict[str, Dict[str, str]] = {
    # ===================================================================
    # SPANISH
    # ===================================================================
    "es": {
        # --- UI Labels ---
        "CANCEL": "ANULAR",
        "OK": "OK",
        "YES": "SI",
        "NO": "NO",
        "ON": "ON",
        "OFF": "OFF",
        "EXIT": "SALIR",
        "DEFAULT": "DEFECTO",
        "SAVE": "GUARD.",
        "LOAD": "CARGAR",
        "NEW": "NUEVO",
        # --- Main Menu ---
        "MATCH": "PARTIDO",
        "LEAGUE": "LIGA",
        "CUP": "COPA",
        "MASTER": "MASTER",
        "TRAINING": "ENTRENO",
        "EDIT MODE": "EDITAR",
        "GAME OPTION": "OPC.JUEGO",
        "OPTION FILE": "OPC.ARCHIV",
        "STRATEGY": "ESTRATEG.",
        "REPLAY": "REPLAY",
        "EXHIBITION": "AMISTOSO",
        "FRIENDLY": "AMISTOSO",
        "INTERNAT.LEAGUE": "LIGA INTERNAC",
        "INTERNATIONAL": "INTERNACIONAL",
        "OLYMPIC": "OLIMPICO",
        "MASTER LEAG": "MASTER LEA.",
        "MASTER LEA.": "MASTER LEA.",
        # --- Match Menu ---
        "START MATCH": "INIC.PARTI",
        "CONTINUE": "CONTINUAR",
        "FORMATION": "FORMACION",
        "CAMERA": "CAMARA",
        "DISPLAY SW": "PANTALLA",
        "SOUND ADJ": "SONIDO",
        "EXIT MATCH": "SALIR PART",
        "START TRAIN": "INIC.ENTRE",
        "TRAIN MENU": "MENU ENTRE",
        "EXIT TRAIN": "SALIR ENTR",
        "FORMATION SAVE": "GUARD.FORMAC.",
        "FORMATION LOAD": "CARGAR FORMAC",
        # --- Match Events ---
        "GOAL": "GOL",
        "ASSIST": "ASIST.",
        "FOUL": "FALTA",
        "OFFSIDE": "FUERA J.",
        "SHOT": "TIRO",
        "YELLOW C": "TARJ.AM.",
        "RED C": "TARJ.R.",
        "CORNERS": "CORNERS",
        "FREE K": "TIRO L.",
        "PENALTY K": "PENALTI",
        "SCORER": "GOLEADOR",
        "OWNGOAL": "GOL PROP",
        "MIN": "MIN",
        # --- Match Results ---
        "FINAL": "FINAL",
        "FINAL MATCH": "PART.FINAL",
        "LEAGUE FINAL": "FINAL LIGA",
        "QUARTER": "CUARTOS",
        "SEMI F.": "SEMI F.",
        "ROUND": "RONDA",
        "DAY": "DIA",
        "DIVISION 1": "DIVISION 1",
        "DIVISION 2": "DIVISION 2",
        "HALF SEASON": "MEDIA TEMP",
        "FULL S.": "COMPL.",
        "HOME & AWAY": "IDA VUELTA",
        "N. OF PLAYERS": "N. JUGADOR",
        "FINAL TOUR.": "TORNEO FIN",
        "GROUPE LEAG": "FASE GRUPO",
        # --- Settings ---
        "CONTROLLERS": "MANDOS",
        "SPEED ADJ": "VEL.AJUSTE",
        "SLOW": "LENTO",
        "FAST": "RAPIDO",
        "SOUND VOL.": "VOL.SONIDO",
        "COMM VOL.": "VOL.COMENT",
        "COMM": "COM.",
        "AUDIO": "AUDIO",
        "MONO": "MONO",
        "STEREO": "STEREO",
        "JOYPAD": "JOYPAD",
        "NORMAL": "NORMAL",
        "ZOOM": "ZOOM",
        "WIDE": "AMPLIO",
        "FAR": "LEJOS",
        "MID": "MEDIO",
        "NEAR": "CERCA",
        "RADAR": "RADAR",
        "SCREEN": "PANTAL",
        "KEY CONFIG": "CONFIG.TECL",
        "M. CARD": "T.MEMO.",
        "MEM CARD": "T.MEMORIA",
        "MEM. CARD SLOT": "RANURA T.MEM.",
        "LOAD DATA": "CARGAR DAT.",
        "SAVE OPTIONS": "GUARD.OPCION",
        "LOAD OPTIONS": "CARG.OPCION.",
        "AUTOSAV": "AUTOGU",
        "PLAYER MODE": "MODO JUGAD",
        "EASY": "FACIL",
        "HARD": "DIFICIL",
        # --- Gameplay / Practice ---
        "ATTACK PRA.": "ATAQUE PRA.",
        "SHOOT PRAC.": "TIRO PRACT.",
        "FREE K.": "T.LIBRE",
        "L.CORNER K.PRA.": "CORN.IZQ.PRAC",
        "R.CORNER K.PRA.": "CORN.DER.PRAC",
        "OFFENSE": "ATAQUE",
        "DEFENSE": "DEFENSA",
        "TURBO S": "TURBO V",
        "THROUGH": "PROFUND",
        "SHOOT": "TIRO",
        "S. PASS": "P.CORTO",
        "L. PASS/CROSSING": "P.LARGO/CENTRO",
        "PLA. CHANGE": "CAMBIO JUG",
        "TACKLE": "ENTRADA",
        # --- Strategy ---
        "STRAT.": "ESTRAT",
        "ELABOR.STRATEGY": "ELABOR.ESTRAT.",
        "LOAD/SAVE STRATEGY": "CARGAR/GUARD.ESTRAT",
        "OVERLAP": "SOLAP.",
        "PRESSING": "PRESION",
        "COVERING": "COBERT.",
        "TIGHT": "CERRAD",
        "NORM": "NORM",
        "TEAM SET": "EQUIPO",
        "KICKERS": "LANZADOR",
        "CHANGE": "CAMBIAR",
        "POSITION EDIT": "EDITAR POS.",
        "AWAY T-MENU": "MENU VISIT.",
        "HOME T-MENU": "MENU LOCAL",
        "PLEASE WAIT...": "ESPERE...",
        "AWAY": "VISIT.",
        "HOME": "LOCAL",
        "AWAY SHIRT": "CAMI.VISIT",
        "HOME SHIRT": "CAMI.LOCAL",
        "FORM. LOADED": "FORM.CARGAD",
        # --- Edit Mode ---
        "EDIT": "EDITAR",
        "EDIT PLAYER": "EDITAR JUGAD",
        "NEW PLAYER": "NUEVO JUGAD.",
        "DEL. PLAYER": "BORR. JUGAD.",
        "EDIT PL. NAME": "EDITAR NOMBR",
        "EDIT PL. NUM.": "EDIT.NUMERO",
        "SAVE DATA": "GUARD.DATOS",
        "POSIT. EDIT": "EDIT.POSIC.",
        "RESET": "REINIC",
        "BASE COPY": "COPIA BASE",
        "NAT. PL. SUBST.": "SUST.JUG.NAC.",
        "JAP. PL. SUBST.": "SUST.JUG.JAP.",
        "CALLNAME SEL.": "SELEC.NOMBRE",
        "SKILLS EDIT": "EDIT.HABILI",
        "LOOKS SET": "CONFIG.APAR",
        "SUBST.PLAY.": "SUST.JUGAD.",
        "SHIRT N": "DORSAL",
        # --- Player Attributes ---
        "SPEED": "VELOC.",
        "ACCEL.": "ACELER",
        "STAM": "RESIS",
        "BODY B.": "EQUILI",
        "BODY BAL.": "EQUILIB.",
        "OFF.": "ATAQ.",
        "OUTSIDE": "EXTERN",
        "TECH.": "TECNI",
        "DRIBBL": "REGATE",
        "HEAD A.": "CABEZA",
        "JUMP": "SALTO",
        "S.ACCUR.": "PRECIS.T",
        "SH.POW": "POT.TI",
        "PAS": "PAS",
        "CURV": "CURV",
        "AGGRES": "AGRES.",
        "RESPON": "REACCI",
        "RESP.": "REAC.",
        "AGGR.": "AGRE.",
        "HEIG": "ALTU",
        "BODY": "CORPO",
        "AGE": "EDAD",
        "BOOTS": "BOTAS",
        "FOOT": "PIE",
        "FACE": "CARA",
        "SKIN": "PIEL",
        "HAIR": "PELO",
        "NAT": "NAC",
        "NAT.": "NAC.",
        # --- Positions ---
        "GOAL KEEPER": "PORTERO",
        "CENTER BACK": "DEFENSA CEN",
        "SIDE BACK": "DEF.LATERAL",
        "DEFENCE HALF": "MEDIO DEFEN",
        "SIDE H.": "MEDIO L",
        "OFFEN. HALF": "MEDIO OFEN.",
        "CENTER FW.": "DELANT.CENT",
        "WING": "ALA",
        "MID. FIELD": "MEDIOCAMP.",
        "DEF. FIELD": "DEFENSA",
        "FORWARD": "DELANTER",
        # --- Yes/No Prompts ---
        "ARE YOU SURE TO DELETE?": "CONFIRMA BORRAR?",
        "ARE YOU SURE TO COPY?": "CONFIRMA COPIAR?",
        "CONFIRM .COPY?": "CONFIRMAR?",
        # --- Misc menus ---
        "SAVE S.": "GUARD.",
        "LOAD S.": "CARGAR",
        "SWAP S.": "INTERC",
        "COPY S.": "COPIAR",
        "DEL": "BORR",
        "REPLAY LOAD": "CARGAR REP.",
        "REPLAY SAVE": "GUARD. REP.",
        "USING....": "USANDO...",
        "AVING": "GUARDAND",
        # --- Language names ---
        "ENGLISH": "INGLES",
        "FRENCH": "FRANCES",
        "GERMAN": "ALEMAN",
        # --- Level names ---
        "LEV": "NIV",
        # --- Country names ---
        "IRELAND": "IRLANDA",
        "SCOTLAND": "ESCOCIA",
        "SCOTLAN": "ESCOCI",
        "WALES": "GALES",
        "ENGLAND": "INGLAT.",
        "PORTUGA": "PORTUG",
        "SPAIN": "ESPANA",
        "FRANCE": "FRANCIA",
        "BELGIUM": "BELGICA",
        "NETHERL": "HOLANDA",
        "SWITZER": "SUIZA",
        "ITALY": "ITALIA",
        "CZECHO": "R.CHEC",
        "CZE": "CZE",
        "GERMANY": "ALEMAN.",
        "DENMARK": "DINAMAR",
        "NORWAY": "NORUEG",
        "SWEDEN": "SUECIA",
        "FINLAND": "FINLAND",
        "ICELAND": "ISLANDI",
        "POLAND": "POLONI",
        "SLOVAKI": "ESLOVAQ",
        "AUSTRIA": "AUSTRIA",
        "HUNGARY": "HUNGRIA",
        "CROATIA": "CROACIA",
        "SLOVENI": "ESLOVEN",
        "ROMANIA": "RUMANIA",
        "BULGARI": "BULGARI",
        "UKRAINE": "UCRANIA",
        "TURKEY": "TURQUIA",
        "TUR": "TUR",
        "GREECE": "GRECIA",
        "RUSSIA": "RUSIA",
        "RUS": "RUS",
        "MOROCCO": "MARRUEC",
        "EGYPT": "EGIPTO",
        "NIGERIA": "NIGERIA",
        "CAMEROO": "CAMERU",
        "SENEGAL": "SENEGAL",
        "S.AFRIC": "SUDAFR",
        "TUNISIA": "TUNEZ",
        "ALGERIA": "ARGELIA",
        "U.S.A.": "EE.UU.",
        "MEXICO": "MEXICO",
        "C.RICA": "C.RICA",
        "COLOMBI": "COLOMBI",
        "BRAZIL": "BRASIL",
        "PERU": "PERU",
        "CHL": "CHL",
        "PARAGUA": "PARAGUA",
        "URUGUAY": "URUGUAY",
        "ARGENTI": "ARGENTI",
        "ECUADOR": "ECUADOR",
        "JAPAN": "JAPON",
        "JAP": "JAP",
        "KOREA": "COREA",
        "KOR": "KOR",
        "CHINA": "CHINA",
        "CHI": "CHI",
        "AUSTRAL": "AUSTRAL",
        "S.ARABI": "A.SAUDI",
        "IRA": "IRA",
        "IRAN": "IRAN",
        "KAZAKHS": "KAZAJIS",
        "THAIL": "TAILAN",
        "BAHRAIN": "BAREIN",
        "QATAR": "QATAR",
        "KUWAIT": "KUWAIT",
        "HONDURA": "HONDURA",
        "INDIA": "INDIA",
        "IVORY COAST": "C. DE MARFIL",
        "GHANA": "GHANA",
        "GUINEA": "GUINEA",
        "CONGO": "CONGO",
        "TOGO": "TOGO",
        "BURUNDI": "BURUNDI",
        "LIBERIA": "LIBERIA",
        "ZAMBIA": "ZAMBIA",
        "S.LEONE": "S.LEONA",
        "CANADA": "CANADA",
        "JAMAICA": "JAMAICA",
        "NOR.IRELAND": "IRL.NORTE",
        "LUXEMBU": "LUXEMB",
        "MACEDON": "MACEDON",
        "BOSNIA HERZ.": "BOSNIA HERZ",
        "BIELORU": "BIELORU",
        "GEORGIA": "GEORGIA",
        "UZBEKISTAN": "UZBEKISTAN",
        "NEW ZELAND": "N.ZELANDA",
        "New Zealand": "N.Zelanda",
        "LIBANO": "LIBANO",
        "Libano": "Libano",
        "TRIN.TOBAGO": "TRIN.TOBAGO",
        "Trin y Tobago": "Trin y Tobago",
        # --- Country names (titlecase / mixed case variants) ---
        "Ireland": "Irlanda",
        "Scotland": "Escocia",
        "Wales": "Gales",
        "England": "Inglat.",
        "Portugal": "Portugal",
        "Spain": "Espana",
        "France": "Francia",
        "Belgium": "Belgica",
        "Netherlands": "Holanda",
        "Switzerland": "Suiza",
        "Italy": "Italia",
        "Germany": "Alemania",
        "Denmark": "Dinamarca",
        "Norway": "Noruega",
        "Sweden": "Suecia",
        "Finland": "Finlandi",
        "Iceland": "Islandia",
        "Poland": "Polonia",
        "Slovakia": "Eslovaq.",
        "Austria": "Austria",
        "Hungary": "Hungria",
        "Croatia": "Croacia",
        "Slovenia": "Esloveni",
        "Romania": "Rumania",
        "Bulgaria": "Bulgaria",
        "Ukraine": "Ucrania",
        "Turkey": "Turquia",
        "Greece": "Grecia",
        "Russia": "Rusia",
        "Morocco": "Marrueco",
        "Egypt": "Egipto",
        "Nigeria": "Nigeria",
        "Cameroon": "Camerun",
        "Senegal": "Senegal",
        "Tunisia": "Tunez",
        "Algeria": "Argelia",
        "Mexico": "Mexico",
        "Colombia": "Colombia",
        "Brazil": "Brasil",
        "Peru": "Peru",
        "Chile": "Chile",
        "Paraguay": "Paraguay",
        "Uruguay": "Uruguay",
        "Argentina": "Argentina",
        "Ecuador": "Ecuador",
        "Japan": "Japon",
        "Korea": "Corea",
        "China": "China",
        "Australia": "Australia",
        "Iran": "Iran",
        "India": "India",
        "Ghana": "Ghana",
        "Guinea": "Guinea",
        "Congo": "Congo",
        "Togo": "Togo",
        "Burundi": "Burundi",
        "Liberia": "Liberia",
        "Zambia": "Zambia",
        "Canada": "Canada",
        "Jamaica": "Jamaica",
        "Georgia": "Georgia",
        "Bahrain": "Barein",
        "Qatar": "Qatar",
        "Kuwait": "Kuwait",
        "Austral": "Austral",
        "Argenti": "Argenti",
        "Bulgari": "Bulgari",
        "Hondura": "Hondura",
        "Colombi": "Colombi",
        "Paragua": "Paragua",
        # --- Classic/Allstar teams ---
        "WORLD ALLSTARS": "EST.MUNDIAL",
        "World AllStars": "Est.Mundial",
        "EURO ALLSTA": "EST.EUROPA",
        "Euro AllSta": "Est.Europa",
        "WORLDAS": "EST.MUN",
        "EURO AS": "EST.EU",
        "CLASS.ARGENTINA": "CLAS.ARGENTI",
        "CLASSIC ENGLAND": "CLASIC.INGLAT",
        "Classic England": "Clasic.Inglat",
        "CLAS.FRANCE": "CLAS.FRANCI",
        "CLAS.NETHER": "CLAS.HOLAND",
        "CLASS.ITALY": "CLAS.ITALIA",
        "BRAZIL CLASSIC": "CLASICO BRAS",
        "Classic Brazil": "Clasico Bras",
        "CL.GERMANY": "CL.ALEMANIA",
        "Cl.Germany": "Cl.Alemania",
        "ARGENTINA CLASS": "ARGENT.CLAS.",
        "ENGLAND CLASSIC": "ANGLAIS CLAS",
        "NETHER.CLAS": "HOLAND.CLAS",
        "FRANCE CLAS": "FRANCI.CLAS",
        "GERMANY CL.": "ALEMAN. CL.",
        "ITALY CLASS": "ITALIA CLAS",
        "EURO CLASSICS": "CLAS.EUROPAS",
        "Euro Classics": "Clas.Europas",
        # --- Continent names ---
        "EUROPE": "EUROPA",
        "AFRICA": "AFRICA",
        "AMERICA": "AMERICA",
        "ASIA": "ASIA",
        "ASASIA": "ASASIA",
        "Oceania": "Oceania",
        "S America": "Sudamerica",
        "N/C America": "N/C America",
        "Africa": "Africa",
        "Asia": "Asia",
        "KONAMI": "KONAMI",
        # --- Game terminology ---
        "TOURN.": "TORNEO",
        "TOURNM.": "TORNEO.",
        "PLA.NAME": "NOMBRE",
        "SCO": "PUN",
        "TIM": "TMP",
        "HUMAN": "HUMANO",
        "HUMAN 1": "HUMANO1",
        "HUMAN 2": "HUMANO2",
        "HUMAN 3": "HUMANO3",
        "AUT.": "AUT.",
        "MAN.": "MAN.",
        "HALF S.": "MEDIA T",
        "PLAYERS": "JUGAD.",
        "UNKNOWN": "DESCONOC",
        "Unknown": "Desconoc",
        "NATIONALS": "NACIONALE",
        "Nationa": "Nacion.",
        "New Team": "Nuevo Eq",
        "NEW TEAM": "NUEVO EQ.",
        "World Class": "Clase Mund",
        "WORLD CLASS": "CLASE MUND",
        "Japan N.C.": "Copa Jap.",
        "JAPAN N.C.": "COPA JAP.",
        "Jap. N.C.": "Copa Jap.",
        "Master Leag": "Master Leag",
        "Teams U23": "Equip. U23",
        "ADJUST": "AJUSTAR",
        "CUPS": "COPAS",
        "CON": "CON",
        "SLOT": "SLOT",
        # --- Match selection / Strategy compound ---
        "ZONE M.MAN M": "ZONA M.HOM M",
        "STOCK": "STOCK",
        "STOCK 3": "STOCK 3",
        "STOCK 4": "STOCK 4",
        "PROF.": "PROF.",
        "NORM.": "NORM.",
        "CHANGE S.": "CAMBIAR E",
        "MAN (L2+R1/R2)": "MAN (L2+R1/R2)",
        "DEF.AUTO.NORM.OFF.AUTO": "DEF.AUTO.NORM.ATQ.AUTO",
        "OF/DF LEV.": "AT/DF NIV.",
        "SET.": "SET.",
        "DEFEN. TYPE": "TIPO DEFEN",
        "AWARENES": "CONCIENC",
        "COUNT. ATC.": "CONTRA.ATQ.",
        "CAPTAIN S.": "CAPITAN S",
        "KICKER SET": "LANZ. SET",
        "PL. CHANGE": "CAMBIO JG.",
        "FORMAT. COPY": "COPIAR FORM",
        "ANNUL": "ANULAR",
        "ENG.": "ING.",
        "KATA": "KATA",
        "HIRAG.": "HIRAG.",
        "KANJ": "KANJ",
        "CANC.": "CANC.",
        "DEL.": "BORR",
        "SHIRT": "CAMISA",
        # --- Additional game strings ---
        "BOTH": "AMBOS",
        "ALL STARS": "ESTRELLAS",
        "AN N.C.": "AN N.C.",
    },

    # ===================================================================
    # FRENCH
    # ===================================================================
    "fr": {
        # --- UI Labels ---
        "CANCEL": "ANNULER",
        "OK": "OK",
        "YES": "OUI",
        "NO": "NON",
        "ON": "ON",
        "OFF": "OFF",
        "EXIT": "SORTIE",
        "DEFAULT": "DEFAUT",
        "SAVE": "SAUVER",
        "LOAD": "CHARG.",
        "NEW": "NOUV.",
        # --- Main Menu ---
        "MATCH": "MATCH",
        "LEAGUE": "LIGUE",
        "CUP": "COUPE",
        "MASTER": "MASTER",
        "TRAINING": "ENTRAIN",
        "EDIT MODE": "EDITION",
        "GAME OPTION": "OPT.JEU",
        "OPTION FILE": "FICH.OPT.",
        "STRATEGY": "STRATEGIE",
        "REPLAY": "REPLAY",
        "EXHIBITION": "AMICAL",
        "FRIENDLY": "AMICAL",
        "INTERNAT.LEAGUE": "LIGUE INTERNAT",
        "INTERNATIONAL": "INTERNATIONAL",
        "OLYMPIC": "OLYMPIQUE",
        "MASTER LEAG": "MASTER LEA.",
        "MASTER LEA.": "MASTER LEA.",
        # --- Match Menu ---
        "START MATCH": "DEB.MATCH",
        "CONTINUE": "CONTINUER",
        "FORMATION": "FORMATION",
        "CAMERA": "CAMERA",
        "DISPLAY SW": "AFFICHAGE",
        "SOUND ADJ": "SON",
        "EXIT MATCH": "QUITT.MATC",
        "START TRAIN": "DEB.ENTR.",
        "TRAIN MENU": "MENU ENTR.",
        "EXIT TRAIN": "QUIT ENTR.",
        "FORMATION SAVE": "SAUVER FORMAT.",
        "FORMATION LOAD": "CHARG. FORMAT.",
        # --- Match Events ---
        "GOAL": "BUT",
        "ASSIST": "PASSE D.",
        "FOUL": "FAUTE",
        "OFFSIDE": "HORS JEU",
        "SHOT": "TIR",
        "YELLOW C": "CARTON J",
        "RED C": "CART.RO",
        "CORNERS": "CORNERS",
        "FREE K": "C.FRANC",
        "PENALTY K": "PENALTY",
        "SCORER": "BUTEUR",
        "OWNGOAL": "C.S.C.",
        "MIN": "MIN",
        # --- Match Results ---
        "FINAL": "FINAL",
        "FINAL MATCH": "MATCH FINAL",
        "LEAGUE FINAL": "FINALE LIG",
        "QUARTER": "QUART",
        "SEMI F.": "SEMI F.",
        "ROUND": "TOUR",
        "DAY": "JOUR",
        "DIVISION 1": "DIVISION 1",
        "DIVISION 2": "DIVISION 2",
        "HALF SEASON": "DEMI SAISO",
        "FULL S.": "SAISON",
        "HOME & AWAY": "ALL.RETOUR",
        "N. OF PLAYERS": "N. JOUEURS",
        "FINAL TOUR.": "TOURNOI FI",
        "GROUPE LEAG": "PHASE GROU",
        # --- Settings ---
        "CONTROLLERS": "MANETTES",
        "SPEED ADJ": "REGL.VITES",
        "SLOW": "LENT",
        "FAST": "RAPIDE",
        "SOUND VOL.": "VOL. SON",
        "COMM VOL.": "VOL.COMM.",
        "COMM": "COMM",
        "AUDIO": "AUDIO",
        "MONO": "MONO",
        "STEREO": "STEREO",
        "JOYPAD": "JOYPAD",
        "NORMAL": "NORMAL",
        "ZOOM": "ZOOM",
        "WIDE": "LARGE",
        "FAR": "LOIN",
        "MID": "MOYEN",
        "NEAR": "PRES",
        "RADAR": "RADAR",
        "SCREEN": "ECRAN",
        "KEY CONFIG": "CONFIG.TOUC",
        "M. CARD": "C.MEM.",
        "MEM CARD": "CARTE MEM.",
        "MEM. CARD SLOT": "SLOT CARTE ME",
        "LOAD DATA": "CHARG.DONEE",
        "SAVE OPTIONS": "SAUV.OPTIONS",
        "LOAD OPTIONS": "CHARG.OPTION",
        "AUTOSAV": "AUTOSAU",
        "PLAYER MODE": "MODE JOUEU",
        "EASY": "FACILE",
        "HARD": "DIFFIC.",
        # --- Gameplay / Practice ---
        "ATTACK PRA.": "ATTAQ.PRAT.",
        "SHOOT PRAC.": "TIR PRATIQU",
        "FREE K.": "C.FRANC",
        "L.CORNER K.PRA.": "C.COIN G.PRAT",
        "R.CORNER K.PRA.": "C.COIN D.PRAT",
        "OFFENSE": "ATTAQUE",
        "DEFENSE": "DEFENSE",
        "TURBO S": "TURBO V",
        "THROUGH": "PROFOND",
        "SHOOT": "TIR",
        "S. PASS": "P.COURT",
        "L. PASS/CROSSING": "P.LONG/CENTRE",
        "PLA. CHANGE": "CHGT JOUEU",
        "TACKLE": "TACLE",
        # --- Strategy ---
        "STRAT.": "STRAT.",
        "ELABOR.STRATEGY": "ELAB.STRATEGIE",
        "LOAD/SAVE STRATEGY": "CHARGER/SAUV.STRAT",
        "OVERLAP": "CHEVAU",
        "PRESSING": "PRESSIO",
        "COVERING": "COUVERT",
        "TIGHT": "SERRE",
        "NORM": "NORM",
        "TEAM SET": "EQUIPE",
        "KICKERS": "TIREURS",
        "CHANGE": "CHANGER",
        "POSITION EDIT": "EDIT. POSIT.",
        "AWAY T-MENU": "MENU VISIT.",
        "HOME T-MENU": "MENU DOMIC.",
        "PLEASE WAIT...": "PATIENTEZ..",
        "AWAY": "VISIT.",
        "HOME": "DOMIC.",
        "AWAY SHIRT": "MAIL.VISIT",
        "HOME SHIRT": "MAIL.DOMIC",
        "FORM. LOADED": "FORM.CHARGE",
        # --- Edit Mode ---
        "EDIT": "EDITER",
        "EDIT PLAYER": "EDITER JOUEU",
        "NEW PLAYER": "NOUV. JOUEUR",
        "DEL. PLAYER": "SUPPR.JOUEUR",
        "EDIT PL. NAME": "EDIT. NOM JO",
        "EDIT PL. NUM.": "EDIT.NUMERO",
        "SAVE DATA": "SAUVER DONN",
        "POSIT. EDIT": "EDIT.POSIT.",
        "RESET": "REINIT",
        "BASE COPY": "COPIE BASE",
        "NAT. PL. SUBST.": "SUBST.JO.NAT.",
        "JAP. PL. SUBST.": "SUBST.JO.JAP.",
        "CALLNAME SEL.": "SELECT.NOM",
        "SKILLS EDIT": "EDIT.COMPET",
        "LOOKS SET": "CONFIG.APAR",
        "SUBST.PLAY.": "SUBST.JOUE.",
        "SHIRT N": "MAILLO",
        # --- Player Attributes ---
        "SPEED": "VITESSE",
        "ACCEL.": "ACCEL.",
        "STAM": "ENDU",
        "BODY B.": "EQUILI",
        "BODY BAL.": "EQUILIB.",
        "OFF.": "ATT.",
        "OUTSIDE": "EXTER.",
        "TECH.": "TECH.",
        "DRIBBL": "DRIBBL",
        "HEAD A.": "TETE A",
        "JUMP": "SAUT",
        "S.ACCUR.": "PREC.TI",
        "SH.POW": "PUIS.T",
        "PAS": "PAS",
        "CURV": "CURV",
        "AGGRES": "AGGRES",
        "RESPON": "REACT.",
        "RESP.": "REAC.",
        "AGGR.": "AGGR.",
        "HEIG": "TAIL",
        "BODY": "CORPS",
        "AGE": "AGE",
        "BOOTS": "CHAUS",
        "FOOT": "PIED",
        "FACE": "VISAG",
        "SKIN": "PEAU",
        "HAIR": "CHEV",
        "NAT": "NAT",
        "NAT.": "NAT.",
        # --- Positions ---
        "GOAL KEEPER": "GARDIEN",
        "CENTER BACK": "DEF. CENTRA",
        "SIDE BACK": "DEF.LATERAL",
        "DEFENCE HALF": "MIL.DEF.",
        "SIDE H.": "MIL.LA",
        "OFFEN. HALF": "MIL.OFF.",
        "CENTER FW.": "AVANT CENTR",
        "WING": "AILIER",
        "MID. FIELD": "MIL. TERR.",
        "DEF. FIELD": "DEFENSE",
        "FORWARD": "ATTAQUAN",
        # --- Yes/No Prompts ---
        "ARE YOU SURE TO DELETE?": "CONFIRMER SUPPR?",
        "ARE YOU SURE TO COPY?": "CONFIRMER COPIE?",
        "CONFIRM .COPY?": "CONFIRMER?",
        # --- Misc menus ---
        "SAVE S.": "SAUV.S",
        "LOAD S.": "CHARG.",
        "SWAP S.": "ECHANG",
        "COPY S.": "COPIER",
        "DEL": "SUPP",
        "REPLAY LOAD": "CHARG.REPLA",
        "REPLAY SAVE": "SAUV. REPLA",
        "USING....": "UTILISANT.",
        "AVING": "SAUVEGAR",
        # --- Language names ---
        "ENGLISH": "ANGLAIS",
        "FRENCH": "FRANCAIS",
        "GERMAN": "ALLEMAND",
        # --- Level names ---
        "LEV": "NIV",
        # --- Country names ---
        "IRELAND": "IRLANDE",
        "SCOTLAND": "ECOSSE",
        "SCOTLAN": "ECOSS",
        "WALES": "GALES",
        "ENGLAND": "ANGLET.",
        "PORTUGA": "PORTUG",
        "SPAIN": "ESPAGNE",
        "FRANCE": "FRANCE",
        "BELGIUM": "BELGIQU",
        "NETHERL": "PAYS-BA",
        "SWITZER": "SUISSE",
        "ITALY": "ITALIA",
        "CZECHO": "R.TCHE",
        "CZE": "CZE",
        "GERMANY": "ALLEMAG",
        "DENMARK": "DANEMAR",
        "NORWAY": "NORVEG",
        "SWEDEN": "SUEDE",
        "FINLAND": "FINLAND",
        "ICELAND": "ISLAND",
        "POLAND": "POLOGN",
        "SLOVAKI": "SLOVAQ",
        "AUSTRIA": "AUSTRIA",
        "HUNGARY": "HONGRIE",
        "CROATIA": "CROATIE",
        "SLOVENI": "SLOVEN",
        "ROMANIA": "ROUMANI",
        "BULGARI": "BULGARI",
        "UKRAINE": "UKRAINE",
        "TURKEY": "TURQUIE",
        "TUR": "TUR",
        "GREECE": "GRECE",
        "RUSSIA": "RUSSIE",
        "RUS": "RUS",
        "MOROCCO": "MAROC",
        "EGYPT": "EGYPTE",
        "NIGERIA": "NIGERIA",
        "CAMEROO": "CAMERO",
        "SENEGAL": "SENEGAL",
        "S.AFRIC": "AFRSUD",
        "TUNISIA": "TUNISIE",
        "ALGERIA": "ALGERIE",
        "U.S.A.": "E.U.A.",
        "MEXICO": "MEXICO",
        "C.RICA": "C.RICA",
        "COLOMBI": "COLOMBI",
        "BRAZIL": "BRESIL",
        "PERU": "PERU",
        "CHL": "CHL",
        "PARAGUA": "PARAGUA",
        "URUGUAY": "URUGUAY",
        "ARGENTI": "ARGENTI",
        "ECUADOR": "ECUADOR",
        "JAPAN": "JAPON",
        "JAP": "JAP",
        "KOREA": "COREE",
        "KOR": "KOR",
        "CHINA": "CHINA",
        "CHI": "CHI",
        "AUSTRAL": "AUSTRAL",
        "S.ARABI": "A.SAUDI",
        "IRA": "IRA",
        "IRAN": "IRAN",
        "KAZAKHS": "KAZAKH",
        "THAIL": "THAIL",
        "BAHRAIN": "BAHREIN",
        "QATAR": "QATAR",
        "KUWAIT": "KUWAIT",
        "HONDURA": "HONDURA",
        "INDIA": "INDIA",
        "IVORY COAST": "COTE IVOIRE",
        "GHANA": "GHANA",
        "GUINEA": "GUINEA",
        "CONGO": "CONGO",
        "TOGO": "TOGO",
        "BURUNDI": "BURUNDI",
        "LIBERIA": "LIBERIA",
        "ZAMBIA": "ZAMBIA",
        "S.LEONE": "S.LEONE",
        "CANADA": "CANADA",
        "JAMAICA": "JAMAIQUE",
        "NOR.IRELAND": "IRL.DU NORD",
        "LUXEMBU": "LUXEMB",
        "MACEDON": "MACEDON",
        "BOSNIA HERZ.": "BOSNIA HERZ",
        "BIELORU": "BIELORU",
        "GEORGIA": "GEORGIA",
        "UZBEKISTAN": "UZBEKISTAN",
        "NEW ZELAND": "NV.ZELANDE",
        "New Zealand": "Nv.Zelande",
        "LIBANO": "LIBANO",
        "Libano": "Libano",
        "TRIN.TOBAGO": "TRIN.TOBAGO",
        "Trin y Tobago": "Trin y Tobago",
        # --- Country names (titlecase / mixed case variants) ---
        "Ireland": "Irlande",
        "Scotland": "Ecosse",
        "Wales": "Gales",
        "England": "Anglet.",
        "Portugal": "Portugal",
        "Spain": "Espagne",
        "France": "France",
        "Belgium": "Belgique",
        "Netherlands": "Pays-Bas",
        "Switzerland": "Suisse",
        "Italy": "Italie",
        "Germany": "Allemagne",
        "Denmark": "Danemark",
        "Norway": "Norvege",
        "Sweden": "Suede",
        "Finland": "Finlande",
        "Iceland": "Islande",
        "Poland": "Pologne",
        "Slovakia": "Slovaq.",
        "Austria": "Autriche",
        "Hungary": "Hongrie",
        "Croatia": "Croatie",
        "Slovenia": "Slovenie",
        "Romania": "Roumanie",
        "Bulgaria": "Bulgarie",
        "Ukraine": "Ukraine",
        "Turkey": "Turquie",
        "Greece": "Grece",
        "Russia": "Russie",
        "Morocco": "Maroc",
        "Egypt": "Egypte",
        "Nigeria": "Nigeria",
        "Cameroon": "Cameroun",
        "Senegal": "Senegal",
        "Tunisia": "Tunisie",
        "Algeria": "Algerie",
        "Mexico": "Mexique",
        "Colombia": "Colombie",
        "Brazil": "Bresil",
        "Peru": "Perou",
        "Chile": "Chili",
        "Paraguay": "Paraguay",
        "Uruguay": "Uruguay",
        "Argentina": "Argentine",
        "Ecuador": "Equateur",
        "Japan": "Japon",
        "Korea": "Coree",
        "China": "Chine",
        "Australia": "Australie",
        "Iran": "Iran",
        "India": "Inde",
        "Ghana": "Ghana",
        "Guinea": "Guinee",
        "Congo": "Congo",
        "Togo": "Togo",
        "Burundi": "Burundi",
        "Liberia": "Liberia",
        "Zambia": "Zambie",
        "Canada": "Canada",
        "Jamaica": "Jamaique",
        "Georgia": "Georgie",
        "Bahrain": "Bahrein",
        "Qatar": "Qatar",
        "Kuwait": "Koweit",
        "Austral": "Austral",
        "Argenti": "Argenti",
        "Bulgari": "Bulgari",
        "Hondura": "Hondura",
        "Colombi": "Colombi",
        "Paragua": "Paragua",
        # --- Classic/Allstar teams ---
        "WORLD ALLSTARS": "ETOIL.MONDE",
        "World AllStars": "Etoil.Monde",
        "EURO ALLSTA": "ETOIL.EURO",
        "Euro AllSta": "Etoil.Euro",
        "WORLDAS": "ET.MOND",
        "EURO AS": "ET.EUR",
        "CLASS.ARGENTINA": "CLAS.ARGENTI",
        "CLASSIC ENGLAND": "CLAS.ANGLETER",
        "Classic England": "Clas.Angleter",
        "CLAS.FRANCE": "CLAS.FRANCE",
        "CLAS.NETHER": "CLAS.P.BAS",
        "CLASS.ITALY": "CLAS.ITALIA",
        "BRAZIL CLASSIC": "CLASSIQ.BRES",
        "Classic Brazil": "Classiq.Bres",
        "CL.GERMANY": "CL.ALLEMAGN",
        "Cl.Germany": "Cl.Allemagn",
        "ARGENTINA CLASS": "ARGENT.CLAS.",
        "ENGLAND CLASSIC": "ANGLET. CLAS",
        "NETHER.CLAS": "P.BAS CLAS.",
        "FRANCE CLAS": "FRANCE CLAS",
        "GERMANY CL.": "ALLEMAN.CL.",
        "ITALY CLASS": "ITALIA CLAS",
        "EURO CLASSICS": "CLAS.EUROPEENS",
        "Euro Classics": "Clas.Europeens",
        # --- Continent names ---
        "EUROPE": "EUROPA",
        "AFRICA": "AFRICA",
        "AMERICA": "AMERICA",
        "ASIA": "ASIA",
        "ASASIA": "ASASIA",
        "Oceania": "Oceania",
        "S America": "Am.du Sud",
        "N/C America": "N/C America",
        "Africa": "Afrique",
        "Asia": "Asie",
        "KONAMI": "KONAMI",
        # --- Game terminology ---
        "TOURN.": "TOURNOI",
        "TOURNM.": "TOURNOI",
        "PLA.NAME": "NOM JOU",
        "SCO": "SCO",
        "TIM": "TMP",
        "HUMAN": "HUMAIN",
        "HUMAN 1": "HUMAIN1",
        "HUMAN 2": "HUMAIN2",
        "HUMAN 3": "HUMAIN3",
        "AUT.": "AUT.",
        "MAN.": "MAN.",
        "HALF S.": "DEMI S.",
        "PLAYERS": "JOUEURS",
        "UNKNOWN": "INCONNU",
        "Unknown": "Inconnu",
        "NATIONALS": "NATIONAUX",
        "Nationa": "Nationa",
        "New Team": "Nouv.Equi",
        "NEW TEAM": "NOUV.EQUI",
        "World Class": "Classe Mon",
        "WORLD CLASS": "CLASSE MON",
        "Japan N.C.": "C.Japon",
        "JAPAN N.C.": "C.JAPON",
        "Jap. N.C.": "C.Japon",
        "Master Leag": "Master Leag",
        "Teams U23": "Equipe U23",
        "ADJUST": "REGLER",
        "CUPS": "COUPES",
        "CON": "CON",
        "SLOT": "SLOT",
        # --- Match selection / Strategy compound ---
        "ZONE M.MAN M": "ZONE M.HOM M",
        "STOCK": "STOCK",
        "STOCK 3": "STOCK 3",
        "STOCK 4": "STOCK 4",
        "PROF.": "PROF.",
        "NORM.": "NORM.",
        "CHANGE S.": "CHANGER S",
        "MAN (L2+R1/R2)": "MAN (L2+R1/R2)",
        "DEF.AUTO.NORM.OFF.AUTO": "DEF.AUTO.NORM.ATQ.AUTO",
        "OF/DF LEV.": "AT/DF NIV.",
        "SET.": "SET.",
        "DEFEN. TYPE": "TYPE DEFEN",
        "AWARENES": "VIGILANC",
        "COUNT. ATC.": "CONTR.ATT.",
        "CAPTAIN S.": "CAPIT. SEL",
        "KICKER SET": "TIREUR SET",
        "PL. CHANGE": "CHGT JOUEU",
        "FORMAT. COPY": "COPIER FORM",
        "ANNUL": "ANNULER",
        "ENG.": "ANG.",
        "KATA": "KATA",
        "HIRAG.": "HIRAG.",
        "KANJ": "KANJ",
        "CANC.": "CANC.",
        "DEL.": "SUPP",
        "SHIRT": "MAILLO",
        # --- Additional game strings ---
        "BOTH": "DEUX",
        "ALL STARS": "ETOILES",
        "AN N.C.": "AN N.C.",
    },

    # ===================================================================
    # PORTUGUESE
    # ===================================================================
    "pt": {
        # --- UI Labels ---
        "CANCEL": "CANCELAR",
        "OK": "OK",
        "YES": "SIM",
        "NO": "NAO",
        "ON": "ON",
        "OFF": "OFF",
        "EXIT": "SAIR",
        "DEFAULT": "PADRAO",
        "SAVE": "SALVAR",
        "LOAD": "CARREG",
        "NEW": "NOVO",
        # --- Main Menu ---
        "MATCH": "PARTIDA",
        "LEAGUE": "LIGA",
        "CUP": "COPA",
        "MASTER": "MASTER",
        "TRAINING": "TREINO",
        "EDIT MODE": "EDITAR",
        "GAME OPTION": "OPC.JOGO",
        "OPTION FILE": "ARQ.OPCAO",
        "STRATEGY": "ESTRATEG.",
        "REPLAY": "REPLAY",
        "EXHIBITION": "AMISTOSO",
        "FRIENDLY": "AMISTOSO",
        "INTERNAT.LEAGUE": "LIGA INTERNAC",
        "INTERNATIONAL": "INTERNACIONAL",
        "OLYMPIC": "OLIMPICO",
        "MASTER LEAG": "MASTER LEA.",
        "MASTER LEA.": "MASTER LEA.",
        # --- Match Menu ---
        "START MATCH": "INIC.JOGO",
        "CONTINUE": "CONTINUAR",
        "FORMATION": "FORMACAO",
        "CAMERA": "CAMERA",
        "DISPLAY SW": "EXIBICAO",
        "SOUND ADJ": "SOM",
        "EXIT MATCH": "SAIR JOGO",
        "START TRAIN": "INIC.TREIN",
        "TRAIN MENU": "MENU TREIN",
        "EXIT TRAIN": "SAIR TREIN",
        "FORMATION SAVE": "SALVAR FORMAC",
        "FORMATION LOAD": "CARREG.FORMAC",
        # --- Match Events ---
        "GOAL": "GOL",
        "ASSIST": "ASSIST.",
        "FOUL": "FALTA",
        "OFFSIDE": "IMPEDIM.",
        "SHOT": "CHUTE",
        "YELLOW C": "CART.AM.",
        "RED C": "CART.VE",
        "CORNERS": "CORNERS",
        "FREE K": "TIRO L.",
        "PENALTY K": "PENALTI",
        "SCORER": "ARTILH.",
        "OWNGOAL": "GOL CONT",
        "MIN": "MIN",
        # --- Match Results ---
        "FINAL": "FINAL",
        "FINAL MATCH": "JOGO FINAL",
        "LEAGUE FINAL": "FINAL LIGA",
        "QUARTER": "QUARTAS",
        "SEMI F.": "SEMI F.",
        "ROUND": "RODADA",
        "DAY": "DIA",
        "DIVISION 1": "DIVISION 1",
        "DIVISION 2": "DIVISION 2",
        "HALF SEASON": "MEIA TEMP.",
        "FULL S.": "COMPL.",
        "HOME & AWAY": "IDA VOLTA",
        "N. OF PLAYERS": "N. JOGADOR",
        "FINAL TOUR.": "TORNEIO FI",
        "GROUPE LEAG": "FASE GRUPO",
        # --- Settings ---
        "CONTROLLERS": "CONTROLES",
        "SPEED ADJ": "VEL.AJUSTE",
        "SLOW": "LENTO",
        "FAST": "RAPIDO",
        "SOUND VOL.": "VOL.SOM",
        "COMM VOL.": "VOL.COMENT",
        "COMM": "COM.",
        "AUDIO": "AUDIO",
        "MONO": "MONO",
        "STEREO": "STEREO",
        "JOYPAD": "JOYPAD",
        "NORMAL": "NORMAL",
        "ZOOM": "ZOOM",
        "WIDE": "AMPLO",
        "FAR": "LONGE",
        "MID": "MEDIO",
        "NEAR": "PERTO",
        "RADAR": "RADAR",
        "SCREEN": "TELA",
        "KEY CONFIG": "CONFIG.TECL",
        "M. CARD": "C.MEMO.",
        "MEM CARD": "C.MEMORIA",
        "MEM. CARD SLOT": "SLOT C.MEM.",
        "LOAD DATA": "CARREG.DAD.",
        "SAVE OPTIONS": "SALVAR OPC.",
        "LOAD OPTIONS": "CARREG.OPC.",
        "AUTOSAV": "AUTOSAL",
        "PLAYER MODE": "MODO JOGAD",
        "EASY": "FACIL",
        "HARD": "DIFICIL",
        # --- Gameplay / Practice ---
        "ATTACK PRA.": "ATAQUE PRA.",
        "SHOOT PRAC.": "CHUTE PRAT.",
        "FREE K.": "T.LIVRE",
        "L.CORNER K.PRA.": "ESQ.ESQ.PRAT",
        "R.CORNER K.PRA.": "ESQ.DIR.PRAT",
        "OFFENSE": "ATAQUE",
        "DEFENSE": "DEFESA",
        "TURBO S": "TURBO V",
        "THROUGH": "PROFUND",
        "SHOOT": "CHUTE",
        "S. PASS": "P.CURTO",
        "L. PASS/CROSSING": "P.LONGO/CENTRO",
        "PLA. CHANGE": "TROCA JOG.",
        "TACKLE": "CARRINHO",
        # --- Strategy ---
        "STRAT.": "ESTRAT",
        "ELABOR.STRATEGY": "ELABOR.ESTRAT.",
        "LOAD/SAVE STRATEGY": "CARREG/SALV.ESTRAT",
        "OVERLAP": "SOLAP.",
        "PRESSING": "PRESSAO",
        "COVERING": "COBERT.",
        "TIGHT": "FECHAD",
        "NORM": "NORM",
        "TEAM SET": "EQUIPE",
        "KICKERS": "COBRADORES",
        "CHANGE": "TROCAR",
        "POSITION EDIT": "EDITAR POS.",
        "AWAY T-MENU": "MENU VISIT.",
        "HOME T-MENU": "MENU LOCAL",
        "PLEASE WAIT...": "AGUARDE...",
        "AWAY": "VISIT.",
        "HOME": "LOCAL",
        "AWAY SHIRT": "CAMI.VISIT",
        "HOME SHIRT": "CAMI.LOCAL",
        "FORM. LOADED": "FORM.CARREG",
        # --- Edit Mode ---
        "EDIT": "EDITAR",
        "EDIT PLAYER": "EDITAR JOGAD",
        "NEW PLAYER": "NOVO JOGADOR",
        "DEL. PLAYER": "EXCL. JOGAD.",
        "EDIT PL. NAME": "EDITAR NOME",
        "EDIT PL. NUM.": "EDIT.NUMERO",
        "SAVE DATA": "SALVAR DADO",
        "POSIT. EDIT": "EDIT.POSIC.",
        "RESET": "REINIC",
        "BASE COPY": "COPIA BASE",
        "NAT. PL. SUBST.": "SUBST.JOG.NAC",
        "JAP. PL. SUBST.": "SUBST.JOG.JAP",
        "CALLNAME SEL.": "SELEC.NOME",
        "SKILLS EDIT": "EDIT.HABIL.",
        "LOOKS SET": "CONFIG.APAR",
        "SUBST.PLAY.": "SUBST.JOGA.",
        "SHIRT N": "CAMISA",
        # --- Player Attributes ---
        "SPEED": "VELOC.",
        "ACCEL.": "ACELER",
        "STAM": "RESIS",
        "BODY B.": "EQUILI",
        "BODY BAL.": "EQUILIB.",
        "OFF.": "ATAQ.",
        "OUTSIDE": "EXTERN",
        "TECH.": "TECNI",
        "DRIBBL": "DRIBLE",
        "HEAD A.": "CABECA",
        "JUMP": "SALTO",
        "S.ACCUR.": "PRECIS.T",
        "SH.POW": "POT.CH",
        "PAS": "PAS",
        "CURV": "CURV",
        "AGGRES": "AGRESS",
        "RESPON": "REACAO",
        "RESP.": "REAC.",
        "AGGR.": "AGRE.",
        "HEIG": "ALTU",
        "BODY": "CORPO",
        "AGE": "IDAD",
        "BOOTS": "CHUTE",
        "FOOT": "PE",
        "FACE": "ROSTO",
        "SKIN": "PELE",
        "HAIR": "CABEL",
        "NAT": "NAC",
        "NAT.": "NAC.",
        # --- Positions ---
        "GOAL KEEPER": "GOLEIRO",
        "CENTER BACK": "ZAGUEIRO",
        "SIDE BACK": "LATERAL",
        "DEFENCE HALF": "VOL.DEFEN.",
        "SIDE H.": "VOL.LA",
        "OFFEN. HALF": "MEIA ATAC.",
        "CENTER FW.": "ATACANT.CEN",
        "WING": "PONTA",
        "MID. FIELD": "MEIO CAMPO",
        "DEF. FIELD": "DEFESA",
        "FORWARD": "ATACANTE",
        # --- Yes/No Prompts ---
        "ARE YOU SURE TO DELETE?": "CONFIRMA EXCLUIR",
        "ARE YOU SURE TO COPY?": "CONFIRMA COPIAR?",
        "CONFIRM .COPY?": "CONFIRMAR?",
        # --- Misc menus ---
        "SAVE S.": "SALVAR",
        "LOAD S.": "CARREG",
        "SWAP S.": "TROCAR",
        "COPY S.": "COPIAR",
        "DEL": "EXCL",
        "REPLAY LOAD": "CARREG.REP.",
        "REPLAY SAVE": "SALVAR REP.",
        "USING....": "USANDO...",
        "AVING": "SALVANDO",
        # --- Language names ---
        "ENGLISH": "INGLES",
        "FRENCH": "FRANCES",
        "GERMAN": "ALEMAO",
        # --- Level names ---
        "LEV": "NIV",
        # --- Country names ---
        "IRELAND": "IRLANDA",
        "SCOTLAND": "ESCOCIA",
        "SCOTLAN": "ESCOCI",
        "WALES": "GALES",
        "ENGLAND": "INGLAT.",
        "PORTUGA": "PORTUG",
        "SPAIN": "ESPANHA",
        "FRANCE": "FRANCA",
        "BELGIUM": "BELGICA",
        "NETHERL": "HOLANDA",
        "SWITZER": "SUICA",
        "ITALY": "ITALIA",
        "CZECHO": "R.TCHE",
        "CZE": "CZE",
        "GERMANY": "ALEMAN.",
        "DENMARK": "DINAMAR",
        "NORWAY": "NORUEG",
        "SWEDEN": "SUECIA",
        "FINLAND": "FINLAND",
        "ICELAND": "ISLANDI",
        "POLAND": "POLONI",
        "SLOVAKI": "ESLOVAQ",
        "AUSTRIA": "AUSTRIA",
        "HUNGARY": "HUNGRIA",
        "CROATIA": "CROACIA",
        "SLOVENI": "ESLOVEN",
        "ROMANIA": "ROMENIA",
        "BULGARI": "BULGARI",
        "UKRAINE": "UCRANIA",
        "TURKEY": "TURQUIA",
        "TUR": "TUR",
        "GREECE": "GRECIA",
        "RUSSIA": "RUSSIA",
        "RUS": "RUS",
        "MOROCCO": "MARROCOS",
        "EGYPT": "EGIPTO",
        "NIGERIA": "NIGERIA",
        "CAMEROO": "CAMAROES",
        "SENEGAL": "SENEGAL",
        "S.AFRIC": "AFRSUL",
        "TUNISIA": "TUNISIA",
        "ALGERIA": "ARGELIA",
        "U.S.A.": "E.U.A.",
        "MEXICO": "MEXICO",
        "C.RICA": "C.RICA",
        "COLOMBI": "COLOMBI",
        "BRAZIL": "BRASIL",
        "PERU": "PERU",
        "CHL": "CHL",
        "PARAGUA": "PARAGUA",
        "URUGUAY": "URUGUAY",
        "ARGENTI": "ARGENTI",
        "ECUADOR": "ECUADOR",
        "JAPAN": "JAPON",
        "JAP": "JAP",
        "KOREA": "COREIA",
        "KOR": "KOR",
        "CHINA": "CHINA",
        "CHI": "CHI",
        "AUSTRAL": "AUSTRAL",
        "S.ARABI": "A.SAUDI",
        "IRA": "IRA",
        "IRAN": "IRAN",
        "KAZAKHS": "CAZAQUI",
        "THAIL": "TAILAN",
        "BAHRAIN": "BAHREIN",
        "QATAR": "QATAR",
        "KUWAIT": "KUWAIT",
        "HONDURA": "HONDURA",
        "INDIA": "INDIA",
        "IVORY COAST": "C. DO MARFIM",
        "GHANA": "GHANA",
        "GUINEA": "GUINEA",
        "CONGO": "CONGO",
        "TOGO": "TOGO",
        "BURUNDI": "BURUNDI",
        "LIBERIA": "LIBERIA",
        "ZAMBIA": "ZAMBIA",
        "S.LEONE": "S.LEOA",
        "CANADA": "CANADA",
        "JAMAICA": "JAMAICA",
        "NOR.IRELAND": "IRL.NORTE",
        "LUXEMBU": "LUXEMB",
        "MACEDON": "MACEDON",
        "BOSNIA HERZ.": "BOSNIA HERZ",
        "BIELORU": "BIELORU",
        "GEORGIA": "GEORGIA",
        "UZBEKISTAN": "UZBEKISTAN",
        "NEW ZELAND": "N.ZELANDIA",
        "New Zealand": "N.Zelandia",
        "LIBANO": "LIBANO",
        "Libano": "Libano",
        "TRIN.TOBAGO": "TRIN.TOBAGO",
        "Trin y Tobago": "Trin y Tobago",
        # --- Country names (titlecase / mixed case variants) ---
        "Ireland": "Irlanda",
        "Scotland": "Escocia",
        "Wales": "Gales",
        "England": "Inglat.",
        "Portugal": "Portugal",
        "Spain": "Espanha",
        "France": "Franca",
        "Belgium": "Belgica",
        "Netherlands": "Holanda",
        "Switzerland": "Suica",
        "Italy": "Italia",
        "Germany": "Alemanha",
        "Denmark": "Dinamarca",
        "Norway": "Noruega",
        "Sweden": "Suecia",
        "Finland": "Finlandi",
        "Iceland": "Islandia",
        "Poland": "Polonia",
        "Slovakia": "Eslovaq.",
        "Austria": "Austria",
        "Hungary": "Hungria",
        "Croatia": "Croacia",
        "Slovenia": "Esloveni",
        "Romania": "Romenia",
        "Bulgaria": "Bulgaria",
        "Ukraine": "Ucrania",
        "Turkey": "Turquia",
        "Greece": "Grecia",
        "Russia": "Russia",
        "Morocco": "Marrocos",
        "Egypt": "Egito",
        "Nigeria": "Nigeria",
        "Cameroon": "Camaroes",
        "Senegal": "Senegal",
        "Tunisia": "Tunisia",
        "Algeria": "Argelia",
        "Mexico": "Mexico",
        "Colombia": "Colombia",
        "Brazil": "Brasil",
        "Peru": "Peru",
        "Chile": "Chile",
        "Paraguay": "Paraguai",
        "Uruguay": "Uruguai",
        "Argentina": "Argentina",
        "Ecuador": "Equador",
        "Japan": "Japao",
        "Korea": "Coreia",
        "China": "China",
        "Australia": "Australia",
        "Iran": "Ira",
        "India": "India",
        "Ghana": "Gana",
        "Guinea": "Guine",
        "Congo": "Congo",
        "Togo": "Togo",
        "Burundi": "Burundi",
        "Liberia": "Liberia",
        "Zambia": "Zambia",
        "Canada": "Canada",
        "Jamaica": "Jamaica",
        "Georgia": "Georgia",
        "Bahrain": "Bahrein",
        "Qatar": "Catar",
        "Kuwait": "Kuwait",
        "Austral": "Austral",
        "Argenti": "Argenti",
        "Bulgari": "Bulgari",
        "Hondura": "Hondura",
        "Colombi": "Colombi",
        "Paragua": "Paragua",
        # --- Classic/Allstar teams ---
        "WORLD ALLSTARS": "EST.MUNDIAL",
        "World AllStars": "Est.Mundial",
        "EURO ALLSTA": "EST.EUROPA",
        "Euro AllSta": "Est.Europa",
        "WORLDAS": "EST.MUN",
        "EURO AS": "EST.EU",
        "CLASS.ARGENTINA": "CLAS.ARGENTI",
        "CLASSIC ENGLAND": "CLASIC.INGLAT",
        "Classic England": "Clasic.Inglat",
        "CLAS.FRANCE": "CLAS.FRANCA",
        "CLAS.NETHER": "CLAS.HOLAND",
        "CLASS.ITALY": "CLAS.ITALIA",
        "BRAZIL CLASSIC": "CLASICO BRAS",
        "Classic Brazil": "Clasico Bras",
        "CL.GERMANY": "CL.ALEMANHA",
        "Cl.Germany": "Cl.Alemanha",
        "ARGENTINA CLASS": "ARGENT.CLAS.",
        "ENGLAND CLASSIC": "INGLAT. CLAS",
        "NETHER.CLAS": "HOLAND.CLAS",
        "FRANCE CLAS": "FRANCA.CLAS",
        "GERMANY CL.": "ALEMAN. CL.",
        "ITALY CLASS": "ITALIA CLAS",
        "EURO CLASSICS": "CLAS.EUROPEU",
        "Euro Classics": "Clas.Europeu",
        # --- Continent names ---
        "EUROPE": "EUROPA",
        "AFRICA": "AFRICA",
        "AMERICA": "AMERICA",
        "ASIA": "ASIA",
        "ASASIA": "ASASIA",
        "Oceania": "Oceania",
        "S America": "Am.do Sul",
        "N/C America": "N/C America",
        "Africa": "Africa",
        "Asia": "Asia",
        "KONAMI": "KONAMI",
        # --- Game terminology ---
        "TOURN.": "TORNEIO",
        "TOURNM.": "TORNEIO",
        "PLA.NAME": "NOME",
        "SCO": "PLA",
        "TIM": "TMP",
        "HUMAN": "HUMANO",
        "HUMAN 1": "HUMANO1",
        "HUMAN 2": "HUMANO2",
        "HUMAN 3": "HUMANO3",
        "AUT.": "AUT.",
        "MAN.": "MAN.",
        "HALF S.": "MEIA T.",
        "PLAYERS": "JOGAD.",
        "UNKNOWN": "DESCONHE",
        "Unknown": "Desconhe",
        "NATIONALS": "NACIONAIS",
        "Nationa": "Nacion.",
        "New Team": "Novo Time",
        "NEW TEAM": "NOVO TIME",
        "World Class": "Classe Mun",
        "WORLD CLASS": "CLASSE MUN",
        "Japan N.C.": "Copa Jap.",
        "JAPAN N.C.": "COPA JAP.",
        "Jap. N.C.": "Copa Jap.",
        "Master Leag": "Master Leag",
        "Teams U23": "Times U23",
        "ADJUST": "AJUSTAR",
        "CUPS": "COPAS",
        "CON": "CON",
        "SLOT": "SLOT",
        # --- Match selection / Strategy compound ---
        "ZONE M.MAN M": "ZONA M.HOM M",
        "STOCK": "STOCK",
        "STOCK 3": "STOCK 3",
        "STOCK 4": "STOCK 4",
        "PROF.": "PROF.",
        "NORM.": "NORM.",
        "CHANGE S.": "TROCAR E.",
        "MAN (L2+R1/R2)": "MAN (L2+R1/R2)",
        "DEF.AUTO.NORM.OFF.AUTO": "DEF.AUTO.NORM.ATQ.AUTO",
        "OF/DF LEV.": "AT/DF NIV.",
        "SET.": "SET.",
        "DEFEN. TYPE": "TIPO DEFEN",
        "AWARENES": "CONCIENC",
        "COUNT. ATC.": "CONTRA.ATQ.",
        "CAPTAIN S.": "CAPITAO S",
        "KICKER SET": "COBR. SET",
        "PL. CHANGE": "TROCA JOG.",
        "FORMAT. COPY": "COPIAR FORM",
        "ANNUL": "CANCELAR",
        "ENG.": "ING.",
        "KATA": "KATA",
        "HIRAG.": "HIRAG.",
        "KANJ": "KANJ",
        "CANC.": "CANC.",
        "DEL.": "EXCL",
        "SHIRT": "CAMISA",
        # --- Additional game strings ---
        "BOTH": "AMBOS",
        "ALL STARS": "ESTRELAS",
        "AN N.C.": "AN N.C.",
    },
}


# ---------------------------------------------------------------------------
# Public API
# ---------------------------------------------------------------------------


def get_menu_records(
    assets_dir: str, lang: str
) -> Optional[List[Tuple[int, bytes]]]:
    """Get translated menu records from the community English PPF.

    Parses the community PPF2 file (w202-english.ppf) and translates
    text records for the requested language. Binary/non-ASCII records
    pass through unchanged.

    Args:
        assets_dir: Path to the assets directory containing w202-english.ppf.
        lang: Language code ("es", "fr", or "pt"). For "en" or unknown
              languages the original English records are returned as-is.

    Returns:
        List of (offset, data) tuples ready to be written to the ROM,
        or None if the community PPF file is not available.
    """
    ppf_path = os.path.join(assets_dir, "w202-english.ppf")
    if not os.path.exists(ppf_path):
        return None

    records = _parse_ppf2(ppf_path)
    translations = _TRANSLATIONS.get(lang, {})

    result = []
    for offset, data in records:
        if _is_text_record(data) and translations:
            translated = _translate_record(data, translations)
            result.append((offset, translated))
        else:
            result.append((offset, data))
    return result
